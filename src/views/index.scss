.home-container {
  position: relative;
  background-image: url("@/assets/home/home_bg.svg");
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center center;
  background-attachment: fixed;
  height: calc(100vh - 84px);
  width: 100%;
  overflow-y: auto;

  .top-info-container {
    position: relative;

    .top-title {
      position: absolute;
      /* Adjusted to be more flexible */
      width: 40%;
      max-width: 400px;
      left: 50%;
      top: 40%;
      transform: translate(-50%, -50%);
      z-index: 11;
    }

    .top-bg {
      width: 100%;
      margin-top: -10px;
    }
  }

  .home-search-container {
    padding: 8px 23px 0;
    display: flex;
    align-items: flex-start;
    flex-wrap: wrap;

    .img-aborn {
      margin-top: 6px;
      width: 59px;
      margin-right: 12px;
      flex-shrink: 0;
    }

    :deep(.el-form) {
      display: flex;
      flex-wrap: wrap;
      align-items: center;

      .el-form-item {
        margin-bottom: 8px;
        margin-right: 7px;

        .el-form-item__label {
          color: #c9eaff;
          font-size: 15px;
          padding-right: 8px;
          flex-shrink: 0;
        }

        .el-select {
          /* Adjusted width for flexibility */
          width: 200px;
          min-width: 150px;
          flex-grow: 1;

          @media (min-width: 1200px) {
            width: 245px;
          }

          .el-select__wrapper {
            background-color: #0e2f46;
            border-radius: 5px;
            border: 1px solid #244961;
            box-shadow: none;

            &:hover {
              border-color: #00daee;
            }

            .el-select__selected-item {
              color: #fff;
            }

            .el-select__suffix {
              .el-icon {
                color: #00daee;
              }
            }
          }

          .el-tag {
            background-color: #0e2f46;
            color: #fff;
            border-color: #00daee;

            .el-tag__close {
              color: #00daee;
            }
          }
        }

        .btn {
          position: relative;
          width: 113px;
          height: 33px;
          margin-right: 9px;
          color: #fff;
          cursor: pointer;
          flex-shrink: 0;

          .btn-img {
            width: 100%;
            height: 100%;
          }

          .btn-text {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            font-size: 12px;
            z-index: 111;
          }

          &:last-child {
            margin-right: 0;
          }

          &:hover {
            color: #00daee !important;
          }
        }
      }
    }
  }

  .home-card-container {
    padding: 0.6vw 23px 1vw;
    display: flex;
    /* 允许换行，但因为宽度计算，只有在空间不足时才会换行 */
    flex-wrap: wrap;
    /* 使用 justify-content: space-between 来处理间距 */
    justify-content: space-between;
    /* 确保容器有足够的空间，防止 flex-grow 挤压 */
    min-width: 100%;
    box-sizing: border-box;

    .card-item-warpper {
      position: relative;
      /* 核心修改：计算 5 个卡片和 4 个 25px 间距的宽度 */
      /* 100% = 5W + 4 * 25px  =>  W = (100% - 100px) / 5 */
      width: calc((100% - 100px) / 5);
      min-width: 200px; /* 最小宽度，防止在小屏幕上挤压过度 */
      min-height: 8vw;
      box-sizing: border-box;
      padding-left: 30px;
      /* 移除右侧固定 margin，由父容器的 space-between 负责 */
      margin-right: 0;
      display: inline-flex;
      align-items: center;

      /* 只有一行 5 个元素，所以最后一个元素不需要特殊处理 margin-right */
      &:last-child {
        margin-right: 0;
      }

      /* 强制在一行显示 5 个卡片。当屏幕小于某个阈值时，布局可能会溢出，但符合“不换列”的要求 */
      @media (max-width: 1200px) {
        width: 310px; /* 小屏幕上固定宽度，让用户横向滚动或溢出 */
        margin-bottom: 15px; /* 添加垂直间距 */
        /* 使用 margin-right 来分隔固定宽度的卡片 */
        margin-right: 25px;
      }

      /* 重置最后一个元素的边距，以防固定宽度布局时的溢出问题 */
      &:nth-child(5n) {
        margin-right: 0;
      }
      &:nth-child(5n + 1) {
        clear: left;
      }

      .card-bg {
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
        z-index: 8;
      }

      .card-img {
        z-index: 10;
        /* Made image size more flexible */
        width: 35%;
        height: auto;
        max-width: 140px;
        max-height: 140px;
        margin-right: 16px;
      }

      .card-text-wrapper {
        flex: 1;
        z-index: 10;

        .card-title {
          color: #c9eaff;
          font-size: 1.2vw;
          margin-bottom: 7px;
        }

        .card-desc {
          span:first-child {
            background: linear-gradient(90deg, #eaffff 0%, #5affff 100%);
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            font-size: 2vw;
            font-weight: 600;
          }

          span:last-child {
            font-size: 0.8vw;
            color: #c9eaff;
            margin-left: 3px;
          }
        }

        .card-right-wrapper {
          display: flex;
          flex-direction: column;

          span {
            color: #c9eaff;
            font-size: 0.6vw;
            margin-bottom: 2px;
          }
        }
      }
    }
  }

  .echarts-wrapper {
    padding: 0 23px;
    display: flex;
    flex-wrap: wrap;
    /* 使用 flex-start 或 space-between 来控制图表间距 */
    justify-content: flex-start;
    box-sizing: border-box;

    .echarts-item {
      position: relative;
      box-sizing: border-box;
      /* 核心修改：计算 3 个图表和 2 个 16px 间距的宽度 */
      /* 100% = 3W + 2 * 16px  =>  W = (100% - 32px) / 3 */
      width: calc((100% - 32px) / 3);
      min-height: 300px;
      margin-right: 16px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      flex-direction: column;

      /* 确保每行第三个元素（3n）没有右边距 */
      &:nth-child(3n) {
        margin-right: 0;
      }

      .echarts-bg {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        z-index: 8;
      }

      .title-wrapper {
        position: relative;
        top: 1.5vw;
        height: 36px;
        width: 100%;
        max-width: 545px;

        .title-icon {
          position: absolute;
          left: 0;
          top: 0;
          z-index: 8;
          width: 100%;
          height: 100%;
        }

        span {
          position: relative;
          font-size: 1vw;
          color: #fff;
          z-index: 10;
          margin-left: 5vw;
        }
      }

      .echart {
        position: relative;
        z-index: 10;
        /* Ensure chart fills its container */
        width: 100%;
        height: 100%;
        max-width: 545px;
        min-height: 240px; /* Maintain minimum height */
        display: flex;
        align-items: center;
        justify-content: center;
      }
    }
  }
}
